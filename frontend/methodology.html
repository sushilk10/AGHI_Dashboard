<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Methodology | AGHI Framework</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/extensions.css" rel="stylesheet">
    <style>
        :root {
            --meth-bg: #f8fafc;
            --glass-card: rgba(255, 255, 255, 0.9);
        }

        body {
            background-color: var(--meth-bg);
            color: #1e293b;
            background-image: 
                radial-gradient(circle at 10% 10%, rgba(37, 99, 235, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 90% 90%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
        }

        .methodology-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .methodology-hero {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            padding: 4rem 2rem;
            border-radius: 24px;
            text-align: center;
            margin-bottom: 3rem;
            border: 1px solid rgba(37, 99, 235, 0.1);
        }

        .methodology-hero h1 {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(to bottom, #1e3a8a, #3b82f6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .methodology-hero p {
            color: #475569;
            font-size: 1.2rem;
        }
        
        .methodology-card {
            background: var(--glass-card);
            backdrop-filter: blur(20px);
            padding: 2.5rem;
            border-radius: 24px;
            border: 1px solid rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .methodology-card h2 {
            color: #fff;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .methodology-card h2 i {
            color: var(--primary-color);
            font-size: 1.2rem;
        }
        
        .formula-section {
            background: rgba(96, 165, 250, 0.05);
            padding: 2rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            border-left: 4px solid var(--primary-color);
        }
        
        .formula {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            background: rgba(15, 23, 42, 0.8);
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1.5rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #60a5fa;
            text-align: center;
        }
        
        .weight-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        
        .weight-table th, .weight-table td {
            padding: 1.25rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .weight-table th {
            background: rgba(255, 255, 255, 0.02);
            font-weight: 700;
            color: #fff;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 1px;
        }

        .pillar-badge {
            font-size: 0.7rem;
            padding: 0.25rem 0.6rem;
            border-radius: 4px;
            font-weight: 800;
            background: rgba(96, 165, 250, 0.1);
            color: #60a5fa;
        }

        .input-range-custom {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            outline: none;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
        }

        .input-range-custom::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: #60a5fa;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(96, 165, 250, 0.5);
        }

        .sim-score-box {
            background: rgba(15, 23, 42, 0.5);
            padding: 2.5rem;
            border-radius: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
    </style>
</head>
<body>
    <nav class="navbar dashboard-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="brand-logo">AGHI</div>
                <span class="brand-divider">|</span>
                <span class="page-title">Methodology Core</span>
            </div>
            <div class="nav-links">
                <a href="/" class="nav-link"><i class="fas fa-home"></i> Home</a>
                <a href="dashboard.html" class="nav-link"><i class="fas fa-th-large"></i> Dashboard</a>
                <a href="insights.html" class="nav-link"><i class="fas fa-brain"></i> AI Insights</a>
                <a href="methodology.html" class="nav-link active"><i class="fas fa-scroll"></i> Methodology</a>
            </div>
        </div>
    </nav>

    <div class="methodology-container">
        <div class="methodology-hero">
            <h1>Algorithmic Sovereignty</h1>
            <p>A transparent deep-dive into the AGHI calculation engine</p>
        </div>
        
        <div class="methodology-card">
            <h2><i class="fas fa-info-circle"></i> Framework Overview</h2>
            <p style="color: #94a3b8; font-size: 1.05rem; line-height: 1.8;">The AGHI (Aadhaar Governance Health Index) is a real-time composite score. It doesn't just measure enrollment; it measures the <strong>governance heartbeat</strong>. By analyzing success rates, update frequency, and system rejections, we identify where the digital bridge is strong—and where it's fraying.</p>
        </div>
        
        <div class="formula-section">
            <h2><i class="fas fa-microchip"></i> The Master Index Formula</h2>
            <div class="formula">
                AGHI = (0.40 × EFFICIENCY) + (0.35 × HEALTH) + (0.25 × STABILITY)
            </div>
            <p style="color: #94a3b8; font-size: 0.9rem;">* All pillars are normalized to a 1-100 scale using min-max scaling across the national dataset.</p>
        </div>

        <!-- Dynamic Weight Explorer -->
        <div class="methodology-card" id="weightExplorer" style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.9), rgba(15, 23, 42, 0.9));">
            <h2><i class="fas fa-sliders-h"></i> Dynamic Weight Modeler</h2>
            <p style="color: #64748b; margin-bottom: 2rem;">Adjust the architectural weights to simulate alternative policy focus areas (e.g. prioritizing accessibility over backend health).</p>
            
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; margin-bottom: 2.5rem;">
                <div>
                    <label style="display: block; font-size: 0.7rem; color: #60a5fa; font-weight: 800; margin-bottom: 1rem; text-transform: uppercase;">Efficiency (%)</label>
                    <input type="range" id="wEff" min="0" max="100" value="40" class="input-range-custom">
                    <div id="vEff" style="text-align: right; font-weight: 800; font-family: 'JetBrains Mono'; margin-top: 0.5rem;">40%</div>
                </div>
                <div>
                    <label style="display: block; font-size: 0.7rem; color: #ef4444; font-weight: 800; margin-bottom: 1rem; text-transform: uppercase;">Data Health (%)</label>
                    <input type="range" id="wHealth" min="0" max="100" value="35" class="input-range-custom">
                    <div id="vHealth" style="text-align: right; font-weight: 800; font-family: 'JetBrains Mono'; margin-top: 0.5rem;">35%</div>
                </div>
                <div>
                    <label style="display: block; font-size: 0.7rem; color: #10b981; font-weight: 800; margin-bottom: 1rem; text-transform: uppercase;">System Stability (%)</label>
                    <input type="range" id="wStab" min="0" max="100" value="25" class="input-range-custom">
                    <div id="vStab" style="text-align: right; font-weight: 800; font-family: 'JetBrains Mono'; margin-top: 0.5rem;">25%</div>
                </div>
            </div>

            <div class="sim-score-box">
                <div style="font-size: 0.65rem; text-transform: uppercase; letter-spacing: 2px; color: #64748b; margin-bottom: 0.5rem;">Simulated National Index</div>
                <div id="simScore" style="font-size: 4.5rem; font-weight: 900; background: linear-gradient(to bottom, #fff, #94a3b8); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;">72.4</div>
                <div id="weightAlert" style="color: #ef4444; font-size: 0.75rem; margin-top: 1rem; display: none; font-weight: 700;">
                    <i class="fas fa-exclamation-triangle"></i> TOTAL MUST EQUAL 100%
                </div>
            </div>
        </div>
        
        <div class="methodology-card">
            <h2><i class="fas fa-layer-group"></i> Pillar Breakdown</h2>
            <table class="weight-table">
                <thead>
                    <tr>
                        <th>Pillar</th>
                        <th>Strategic Focus</th>
                        <th>Metrics</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="pillar-badge">Efficiency</span></td>
                        <td>Operational Velocity</td>
                        <td style="color: #94a3b8; font-size: 0.85rem;">Enrolment Success, API Processing Latency, Throughput</td>
                    </tr>
                    <tr>
                        <td><span class="pillar-badge">Health</span></td>
                        <td>Data Integrity</td>
                        <td style="color: #94a3b8; font-size: 0.85rem;">Demographic Update Compliance, Biometric Refresh Rate</td>
                    </tr>
                    <tr>
                        <td><span class="pillar-badge">Stability</span></td>
                        <td>Infrastructural Resilience</td>
                        <td style="color: #94a3b8; font-size: 0.85rem;">Rejection Spikes, Backlog Velocity, Regional Skew</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="methodology-card" style="text-align: center; border: 1px dashed rgba(255,255,255,0.1); background: transparent;">
            <h3 style="color: #60a5fa; margin-bottom: 1rem;">System Documentation</h3>
            <p style="color: #64748b; font-size: 0.85rem;">This methodology is built on UIDAI Open Data standards. All AI models are audited for regional bias to ensure equitable governance assessments.</p>
        </div>
    </div>

    <script>
        const ids = ['wEff', 'wHealth', 'wStab'];
        ids.forEach(id => {
            document.getElementById(id).addEventListener('input', () => {
                const eff = parseInt(document.getElementById('wEff').value);
                const health = parseInt(document.getElementById('wHealth').value);
                const stab = parseInt(document.getElementById('wStab').value);
                
                document.getElementById('vEff').textContent = eff + '%';
                document.getElementById('vHealth').textContent = health + '%';
                document.getElementById('vStab').textContent = stab + '%';
                
                const sum = eff + health + stab;
                const alert = document.getElementById('weightAlert');
                const score = document.getElementById('simScore');

                if(sum !== 100) {
                    alert.style.display = 'block';
                    score.style.opacity = '0.2';
                } else {
                    alert.style.display = 'none';
                    score.style.opacity = '1';
                    // Simulation math based on National Baseline
                    const calculated = (eff * 0.82) + (health * 0.54) + (stab * 0.91);
                    score.textContent = (calculated / 1).toFixed(1);
                }
            });
        });
    </script>
</body>
</html>
